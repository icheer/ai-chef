/* =========================================================
   æ™ºèƒ½é£Ÿè°±ç”Ÿæˆå™¨ - ç²¾ç®€ & é‡æ’ç‰ˆæ ·å¼ (styles.clean.css)
   è§„åˆ™ï¼š
   1. ä»…ä¿ç•™ index.html ä¸­å®é™…å‡ºç°/å¼•ç”¨çš„é€‰æ‹©å™¨
   2. ç»“æ„é¡ºåºä¸ HTML è‡ªä¸Šè€Œä¸‹å¯¹åº”ï¼Œä¾¿äºç»´æŠ¤
   3. åˆå¹¶é‡å¤ã€å»é™¤åºŸå¼ƒå‘½åï¼ˆæ—§çš„ recipe-ingredients / cooking-steps ç­‰ï¼‰
   4. é€‚åº¦ä¿ç•™å¿…è¦çš„åŠ¨æ•ˆï¼Œåˆ é™¤ä¼šé€ æˆæˆªå›¾åŠé€æ˜çš„è¿›å…¥åŠ¨ç”»
   5. ç§»é™¤æœªä½¿ç”¨çš„å¤æ‚æ—§æ …æ ¼/åŠ¨ç”»/å†—ä½™ç±»
========================================================= */

/* ========== 1. CSS å˜é‡ï¼ˆä¸»é¢˜è‰²ã€é˜´å½±ã€æ–‡æœ¬ï¼‰ ========== */
:root {
  --primary-color: #2ecc71;
  --primary-color-dark: #27ae60;
  --secondary-color: #f39c12;
  --background-color: #ffffff;
  --light-gray: #f8f9fa;
  --text-primary: #2c3e50;
  --text-secondary: #7f8c8d;
  --border-color: #e0e6ed;
  --danger-color: #e74c3c;
  --shadow-light: 0 2px 8px rgba(0,0,0,0.08);
  --shadow-medium: 0 4px 18px rgba(0,0,0,0.12);
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --transition: .25s cubic-bezier(.4,0,.2,1);
}

/* ========== 2. åŸºç¡€ Reset & å…¨å±€ ========== */
* { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
body {
  font-family: -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  background: linear-gradient(135deg,#f8f9fa,#edf0f2);
  color: var(--text-primary);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}
img { max-width: 100%; display: block; }
a { color: var(--primary-color); text-decoration: none; }
button { font-family: inherit; }

/* ç„¦ç‚¹å¯è®¿é—®æ€§ */
*:focus-visible { outline: 2px solid var(--primary-color); outline-offset: 2px; }

/* ========== 3. å¤–å±‚å®¹å™¨ä¸é€šç”¨åŒºå— ========== */
#app { max-width: 1200px; margin: 0 auto; padding: 1rem; }
section { background:#fff; border:1px solid rgba(224,230,237,.6); border-radius: var(--radius-lg); padding:2rem; margin-bottom:2rem; box-shadow: var(--shadow-light); transition: var(--transition); }
section:hover { box-shadow: var(--shadow-medium); border-color: rgba(46,204,113,.25); }
section h2, section h3 { font-size:1.35rem; font-weight:700; margin-bottom:1.25rem; display:flex; align-items:center; gap:.6rem; position:relative; padding-bottom:.5rem; }
section h2::after, section h3::after { content:""; position:absolute; left:0; right:0; bottom:0; height:2px; background:linear-gradient(90deg,var(--primary-color),transparent); }

/* ========== 4. é¡¶éƒ¨å¤´éƒ¨åŒºåŸŸ ========== */
.app-header { text-align:center; padding:2rem 1rem; margin-bottom:2rem; background:linear-gradient(135deg,var(--primary-color),var(--secondary-color)); color:#fff; border-radius:var(--radius-lg); box-shadow:var(--shadow-medium); }
.app-header h1 { font-size:2rem; margin-bottom:.5rem; }
.subtitle { font-size:1.05rem; opacity:.85; margin-bottom:.25rem; }
.save-status { font-size:.85rem; opacity:.85; }

/* ========== 5. è¡¨å•/è¾“å…¥å…ƒç´ ï¼ˆç”¨æˆ·æ¡£æ¡ˆ + é¥®é£Ÿé™åˆ¶é€šç”¨ï¼‰ ========== */
.profile-form, .restrictions-form { display:flex; flex-direction:column; gap:1rem; }
.form-row { display:flex; flex-direction:column; gap:.5rem; }
.form-row label { font-weight:600; font-size:.95rem; color:var(--text-primary); display:flex; align-items:center; gap:.35rem; }
input, select, textarea { width:100%; padding:.75rem 1rem; border:2px solid var(--border-color); border-radius:var(--radius-md); font-size:1rem; background:#fff; transition: var(--transition); min-height:44px; }
input:focus, select:focus, textarea:focus { border-color:var(--primary-color); box-shadow:0 0 0 3px rgba(46,204,113,.18); }
select { appearance:none; background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e"); background-repeat:no-repeat; background-position:right .75rem center; background-size:1.25rem; padding-right:2.5rem; cursor:pointer; }
select[multiple] { min-height:8rem; padding-top:.75rem; }
input[type=number] { text-align:center; }

/* ========== 6. æŒ‰é’®ä½“ç³» ========== */
button { cursor:pointer; border:0; border-radius:var(--radius-md); font-weight:600; font-size:1rem; padding:.75rem 1.25rem; display:inline-flex; align-items:center; justify-content:center; gap:.4rem; background:#fff; color:var(--text-primary); transition: var(--transition); position:relative; overflow:hidden; }
button::before { content:""; position:absolute; inset:0; background:linear-gradient(135deg,var(--primary-color),var(--primary-color-dark)); opacity:0; transition: var(--transition); }
button:hover::before { opacity:.08; }
button:disabled { opacity:.6; cursor:not-allowed; box-shadow:none; }

.btn-secondary { border:2px solid var(--border-color); }
.btn-secondary:hover { border-color:var(--primary-color); color:var(--primary-color); background:var(--light-gray); }

.btn-danger { background:linear-gradient(135deg,var(--danger-color),#c0392b); color:#fff; border:none; }
.btn-danger:hover { filter:brightness(.95); }

.generate-btn { background:linear-gradient(135deg,var(--primary-color),var(--primary-color-dark)); color:#fff; font-size:1.1rem; padding:.9rem 2rem; box-shadow:0 4px 16px rgba(46,204,113,.35); }
.generate-btn:hover:not(:disabled) { transform:translateY(-2px); box-shadow:0 8px 28px rgba(46,204,113,.45); }

/* ========== 7. é£Ÿæé€‰æ‹©åŒºåŸŸ (ingredient-selection) ========== */
.ingredient-categories { display:grid; gap:1.25rem; margin-bottom:1.5rem; }
.category { background:#fff; border:1px solid rgba(224,230,237,.9); padding:1.25rem 1.25rem 1rem; border-radius:var(--radius-md); box-shadow:var(--shadow-light); }
.category h4 { font-size:1.05rem; margin-bottom:.75rem; display:flex; align-items:center; gap:.4rem; font-weight:600; }
.ingredient-buttons { display:flex; flex-wrap:wrap; gap:.6rem; }
.ingredient-btn { background:#fff; border:2px solid var(--border-color); padding:.65rem 1.1rem; border-radius:24px; font-size:.9rem; font-weight:500; position:relative; overflow:hidden; transition: var(--transition); }
.ingredient-btn:hover { border-color:var(--primary-color); box-shadow:0 6px 18px rgba(46,204,113,.25); transform:translateY(-2px); }
.ingredient-btn.selected { background:var(--primary-color); color:#fff; border-color:var(--primary-color); box-shadow:0 6px 20px rgba(46,204,113,.4); }
.add-custom { display:flex; gap:.6rem; margin-top:1rem; background:var(--light-gray); padding:.75rem; border-radius:var(--radius-md); border:1px solid var(--border-color); }
.add-custom input { flex:1; background:#fff; border:2px solid var(--border-color); }

/* ========== 8. å·²é€‰é£Ÿæ (selected-ingredients) ========== */
.empty-state { text-align:center; padding:2.5rem 1rem; background:var(--light-gray); border:2px dashed var(--border-color); border-radius:var(--radius-lg); font-style:italic; color:var(--text-secondary); }
.ingredients-list { display:flex; flex-direction:column; gap:1rem; }
.ingredient-item { position:relative; display:flex; flex-wrap:wrap; gap:1rem; padding:1.1rem 1.2rem 1.2rem; background:#fff; border:2px solid rgba(224,230,237,.7); border-radius:var(--radius-lg); transition: var(--transition); }
.ingredient-item:hover { border-color:var(--primary-color); box-shadow:0 4px 18px rgba(46,204,113,.18); }
.ingredient-item .name { font-weight:600; min-width:90px; }
.quantity-unit-wrapper { display:flex; align-items:center; gap:.9rem; }
.quantity-control { display:flex; align-items:center; gap:.4rem; background:var(--light-gray); padding:.25rem; border-radius:var(--radius-md); border:2px solid var(--border-color); }
.quantity-control button { width:34px; height:34px; background:#fff; color:var(--primary-color); border:none; border-radius:8px; font-weight:700; font-size:1.1rem; }
.quantity-control button:hover { background:var(--primary-color); color:#fff; }
.quantity-control input { width:80px; background:transparent; border:none; font-weight:600; }
.remove-btn { position:absolute; top:.55rem; right:.55rem; width:26px; height:26px; background:#ff4757; color:#fff; border-radius:50%; font-size:16px; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 8px rgba(255,71,87,.4); }
.remove-btn::before { content:'Ã—'; }
.remove-btn:hover { background:#ff2f45; }

/* ========== 9. ç”Ÿæˆæ§åˆ¶åŒºåŸŸ (generation-controls) ========== */
.generation-controls { text-align:center; }
.model-selection { margin-bottom:1.25rem; }
.model-selection label { font-weight:600; display:block; margin-bottom:.4rem; }
.data-controls { margin-top:1rem; }

/* ========== 10. é£Ÿè°±å±•ç¤º (recipe-result) ========== */
.recipe-result { margin-top:2rem; background:#fff; border:1px solid rgba(224,230,237,.85); border-radius:var(--radius-lg); box-shadow:0 8px 32px rgba(0,0,0,.12); overflow:hidden; }
.recipe-header { background:linear-gradient(135deg,var(--primary-color),var(--primary-color-dark)); color:#fff; text-align:center; padding:2.2rem 1.5rem 2rem; position:relative; }
.recipe-title { font-size:2rem; font-weight:700; margin-bottom:1rem; text-shadow:0 2px 4px rgba(0,0,0,.25); }
.recipe-meta { display:flex; flex-wrap:wrap; justify-content:center; gap:.75rem 1rem; margin-bottom:1.25rem; }
.recipe-meta span { background:rgba(255,255,255,.22); padding:.5rem 1rem; border-radius:22px; font-size:.85rem; font-weight:500; backdrop-filter:blur(8px); border:1px solid rgba(255,255,255,.35); }
.recipe-description { max-width:720px; margin:0 auto; color:rgba(255,255,255,.9); line-height:1.55; font-size:.95rem; }
.recipe-actions { margin-top:1.25rem; display:flex; justify-content:center; gap:.8rem; flex-wrap:wrap; }
.recipe-actions .btn-secondary { background:rgba(255,255,255,.15); color:#fff; border:1px solid rgba(255,255,255,.4); }
.recipe-actions .btn-secondary:hover { background:rgba(255,255,255,.25); color:#fff; }

/* ========== 11. é£Ÿè°± - å„å†…å®¹åˆ†åŒº ========== */
.nutrition-section, .ingredients-section, .cooking-steps-section, .tips-section, .variations-section {
  margin:1.75rem 0 2rem; padding:1.25rem 1.5rem; background:#fafbfc; border-radius:var(--radius-md); border-left:4px solid var(--border-color);
}
.nutrition-section h3, .ingredients-section h3, .cooking-steps-section h3, .tips-section h3, .variations-section h3 { font-size:1.15rem; font-weight:600; color:var(--primary-color); margin-bottom:1rem; display:flex; gap:.5rem; align-items:center; }

/* è¥å…»ä¿¡æ¯ */
.nutrition-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr)); gap:.85rem; }
.nutrition-item { background:#fff; padding:.9rem .75rem; border:1px solid #e1e5e9; border-radius:8px; text-align:center; transition: var(--transition); }
.nutrition-item:hover { transform:translateY(-2px); box-shadow:0 4px 14px rgba(0,0,0,.08); }
.nutrition-item .label { display:block; font-size:.75rem; color:var(--text-secondary); margin-bottom:.25rem; letter-spacing:.5px; }
.nutrition-item .value { display:block; font-size:1rem; font-weight:600; color:var(--primary-color); }

/* é£Ÿè°±å†…é£Ÿæåˆ—è¡¨ */
.ingredients-section .ingredients-list { list-style:none; display:flex; flex-direction:column; gap:.6rem; margin-top:.5rem; }
.ingredient-row { background:#fff; border:1px solid #e1e5e9; border-radius:8px; padding:.65rem .9rem; display:flex; gap:.75rem; align-items:center; font-size:.9rem; }
.ingredient-amount { color:var(--primary-color); font-weight:600; min-width:70px; }
.ingredient-name { font-weight:500; flex:1; }
.ingredient-notes { font-style:italic; color:var(--text-secondary); font-size:.8rem; }

/* çƒ¹é¥ªæ­¥éª¤ */
.recipe-result h3 { margin-top: 0.5rem; }
.steps-container { display:flex; flex-direction:column; gap:1rem; }
.cooking-step { display:flex; gap:1rem; background:#fff; padding:1.1rem 1.25rem; border:1px solid #e1e5e9; border-radius:12px; transition: var(--transition); }
.cooking-step:hover { border-color:var(--primary-color); box-shadow:0 4px 16px rgba(46,204,113,.15); }
.step-number { width:32px; height:32px; border-radius:50%; background:linear-gradient(135deg,var(--primary-color),var(--primary-color-dark)); color:#fff; font-size:.85rem; font-weight:700; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 8px rgba(46,204,113,.35); flex-shrink:0; }
.step-content { flex:1; font-size:.95rem; line-height:1.55; }
.step-title { font-size:1rem; font-weight:600; color:var(--primary-color); margin-bottom:.35rem; }
.step-instruction { margin-bottom:.35rem; }
.step-time { color:var(--secondary-color); font-weight:600; font-size:.85rem; margin-bottom:.25rem; }
.step-tip { background:#fff7e1; padding:.45rem .6rem; border-left:4px solid var(--secondary-color); border-radius:6px; font-size:.8rem; color:#856404; }

/* å°è´´å£« & å˜åŒ–å»ºè®® */
.tips-list, .variations-list { list-style:none; display:flex; flex-direction:column; gap:.6rem; }
.tips-list li, .variations-list li { background:#fff; border-left:4px solid var(--primary-color); padding:.75rem .9rem; border-radius:8px; line-height:1.5; font-size:.9rem; }
.tips-list li::before { content:'ğŸ’¡ '; }
.variations-list li::before { content:'ğŸ”„ '; }

/* ========== 12. åˆ†äº«å¼¹çª—ï¼ˆSwal2ï¼‰ ========== */
.swal2-popup.share-popup { border-radius:16px !important; }
.swal2-popup.share-popup img { border-radius:12px; box-shadow:0 4px 18px rgba(0,0,0,.18); }

/* ========== 13. å“åº”å¼ï¼ˆç§»åŠ¨ä¼˜å…ˆï¼‰ ========== */
@media (max-width: 767px) {
  #app { padding:.75rem; }
  .app-header { padding:1.6rem 1rem; margin-bottom:1.25rem; }
  .app-header h1 { font-size:1.75rem; }
  section { padding:1.4rem 1.25rem; margin-bottom:1.25rem; }
  .ingredient-categories { grid-template-columns:1fr; }
  .ingredient-item { flex-direction:column; align-items:stretch; padding-top:2.4rem; }
  .ingredient-item .name { background:var(--light-gray); padding:.6rem .75rem; border-radius:8px; text-align:center; }
  .quantity-unit-wrapper { justify-content:center; }
  .recipe-header { padding:1.8rem 1rem 1.6rem; }
  .recipe-title { font-size:1.75rem; }
  .nutrition-section, .ingredients-section, .cooking-steps-section, .tips-section, .variations-section { margin:1.25rem 0 1.5rem; padding:1rem 1rem 1.1rem; }
  .nutrition-grid { grid-template-columns:repeat(2,1fr); }
  .recipe-actions { flex-direction:column; }
  .recipe-actions .btn-secondary { width:100%; }
}

@media (min-width: 768px) {
  #app { padding:2rem; }
  .ingredient-categories { grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); }
  .form-row { flex-direction:row; align-items:center; }
  .form-row label { min-width:120px; margin-bottom:0; }
}

@media (min-width: 1200px) {
  /* é¢„ç•™é«˜åˆ†è¾¨ç‡å¸ƒå±€æ‰©å±•ä½ç½®ï¼ˆä¾‹å¦‚åŒæ å¸ƒå±€ï¼‰ */
  /* ç¤ºä¾‹ï¼š
  .recipe-body { display:grid; grid-template-columns:1fr 1fr; gap:2rem; }
  */
}

/* ========== 14. æ‰“å°ä¼˜åŒ– ========== */
@media print {
  body { background:#fff; }
  .app-header, .generation-controls, .ingredient-selection, .selected-ingredients, .btn-danger, button { display:none !important; }
  .recipe-result { box-shadow:none; border:none; margin:0; }
  .nutrition-section, .ingredients-section, .cooking-steps-section, .tips-section, .variations-section { page-break-inside:avoid; }
}
